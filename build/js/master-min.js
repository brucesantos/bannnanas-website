"use strict";console.clear();var width=window.innerWidth,height=window.innerHeight,body=document.body,elButton=document.querySelector(".treat-button"),elWrapper=document.querySelector(".treat-wrapper");function getRandomArbitrary(t,e){return Math.random()*(e-t)+t}function getRandomInt(t,e){return Math.floor(Math.random()*(e-t+1))+t}var treatmojis=["ðŸŒ"],treats=[],radius=15,Cd=.47,rho=1.22,A=Math.PI*radius*radius/1e4,ag=9.81,frameRate=1/60;function createTreat(){var t=getRandomArbitrary(-10,10),e=getRandomArbitrary(-10,1),i=document.createElement("div");i.className="treat";var o=document.createElement("span");o.className="inner",o.innerText=treatmojis[getRandomInt(0,treatmojis.length-1)],i.appendChild(o),elWrapper.appendChild(i);var n=i.getBoundingClientRect(),a=getRandomArbitrary(2e3,3e3);i.style.setProperty("--lifetime",a);var r={el:i,absolutePosition:{x:n.left,y:n.top},position:{x:n.left,y:n.top},velocity:{x:t,y:e},mass:.1,radius:i.offsetWidth,restitution:-.7,lifetime:a,direction:t>0?1:-1,animating:!0,remove:function(){this.animating=!1,this.el.parentNode.removeChild(this.el)},animate:function(){var t=this,e=-.5*Cd*A*rho*t.velocity.x*t.velocity.x*t.velocity.x/Math.abs(t.velocity.x),i=-.5*Cd*A*rho*t.velocity.y*t.velocity.y*t.velocity.y/Math.abs(t.velocity.y);e=isNaN(e)?0:e,i=isNaN(i)?0:i;var o=e/t.mass,n=ag+i/t.mass;t.velocity.x+=o*frameRate,t.velocity.y+=n*frameRate,t.position.x+=t.velocity.x*frameRate*100,t.position.y+=t.velocity.y*frameRate*100,t.checkBounds(),t.update()},checkBounds:function(){r.position.y>height-r.radius&&(r.velocity.y*=r.restitution,r.position.y=height-r.radius),r.position.x>width-r.radius&&(r.velocity.x*=r.restitution,r.position.x=width-r.radius,r.direction=-1),r.position.x<r.radius&&(r.velocity.x*=r.restitution,r.position.x=r.radius,r.direction=1)},update:function(){var t=this.position.x-this.absolutePosition.x,e=this.position.y-this.absolutePosition.y;this.el.style.setProperty("--x",t),this.el.style.setProperty("--y",e),this.el.style.setProperty("--direction",this.direction)}};return setTimeout((function(){r.remove()}),a),r}function animationLoop(){for(var t=treats.length;t--;)treats[t].animate(),treats[t].animating||treats.splice(t,1);requestAnimationFrame(animationLoop)}function addTreats(){if(!(treats.length>40))for(var t=0;t<10;t++)treats.push(createTreat())}animationLoop(),elButton.addEventListener("click",addTreats),elButton.click(),window.addEventListener("resize",(function(){width=window.innerWidth,height=window.innerHeight}));